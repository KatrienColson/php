function q(e){throw e}(function(e,t){if("function"==typeof define&&define.amd)define("Reselect",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var r={exports:{}};t(r.exports),e.Reselect=r.exports}})(this,(function(e){"use strict";function t(e,t){return e===t}function r(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}function n(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=null,s=null;return function(){return r(n,i,arguments)||(s=e.apply(null,arguments)),i=arguments,s}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];var c=0,a=s.pop(),u=i(s),l=e.apply(void 0,[function(){return c++,a.apply(null,arguments)}].concat(r)),h=n((function(){for(var e=[],t=u.length,r=0;r<t;r++)e.push(u[r].apply(null,arguments));return l.apply(null,e)}));return h.resultFunc=a,h.recomputations=function(){return c},h.resetRecomputations=function(){return c=0},h}}e.__esModule=!0,e.defaultMemoize=n,e.createSelectorCreator=s,e.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[r[n]]=t,e}),{})}))};var o=e.createSelector=s(n)})),define("modules/clean/api_v2/client_base",["require","exports","tslib","modules/clean/api_v2/types","modules/clean/api_v2/transport/fetch","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/devtools/panels/performance/perf_hub_actions","modules/constants/debug","modules/constants/request","modules/core/browser","modules/core/cookies","modules/core/uri"],(function(e,t,r,n,i,s,o,c,a,u,l,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiV2ClientBase=t.DefaultApiV2Transport=void 0,c=r.__importStar(c),u=r.__importStar(u);var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(i.FetchAsyncTransport);t.DefaultApiV2Transport=p;var d=(function(){function e(e){this.transport=e||new p}return e.prototype._upload=function(e,t,r,n){return this._uploadWithResponseHeaders(e,t,r,n).then((function(e){return e.result}))},e.prototype._uploadWithResponseHeaders=function(e,t,i,s){var o,c=r.__assign(((o={})[n.ApiV2HeaderNames.CsrfToken]=this.csrfToken(),o[n.ApiV2HeaderNames.DropboxApiArg]=JSON.stringify(t),o),this._headers(s));return this.executeRpc(e,c,i,"application/octet-stream",s.signal)},e.prototype._rpc=function(e,t,r){return this._rpcWithResponseHeaders(e,t,r).then((function(e){return e.result}))},e.prototype._rpcWithResponseHeaders=function(e,t,i){var s,o=r.__assign(((s={})[n.ApiV2HeaderNames.CsrfToken]=this.csrfToken(),s),this._headers(i)),c=JSON.stringify(t||null);return this.executeRpc(e,o,c,"application/json",i.signal)},e.prototype.csrfToken=function(){return l.Cookies.read("__Host-js_csrf")||""},e.prototype.executeRpc=function(e,t,n,i,l){return r.__awaiter(this,void 0,void 0,(function(){var p,d,f,m,g,y,v;return r.__generator(this,(function(r){switch(r.label){case 0:return p="client-web.dropbox.com"===u.get_hostname()?"client-web.dropbox.com":"www.dropbox.com",c.CPROFILE_ENABLED&&(d={cProfile:c.CPROFILE_PARAMETER,parent_request_id:a.REQUEST_ID},t[s.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER]="ON"),f=new h.URI({scheme:"https",authority:p,path:"/2/"+e,query:d}),[4,this.transport.executeRpc(f,t,n,i,l)];case 1:return m=r.sent(),c.CPROFILE_ENABLED&&(g=m.headers[s.PerfHubHeaderNames.SERVER_RESPONSE_TIME]||"-1",y=m.headers[s.PerfHubHeaderNames.REQUEST_PROFILE_ID]||"",v=m.headers[s.PerfHubHeaderNames.REQUEST_ID],o.PerfHubActions.add_ajax_profile(f.getPath(),g,y,v)),[2,m]}}))}))},e})();t.ApiV2ClientBase=d,d.prototype.ns=function(e){var t=this;return{rpc:function(r,n,i){return t._rpc(e+"/"+r,n,i)},rpcWithResponseHeaders:function(r,n,i){return t._rpcWithResponseHeaders(e+"/"+r,n,i)},upload:function(r,n,i,s){return t._upload(e+"/"+r,n,i,s)},uploadWithResponseHeaders:function(r,n,i,s){return t._uploadWithResponseHeaders(e+"/"+r,n,i,s)}}}})),define("modules/clean/api_v2/error",["require","exports","tslib","modules/core/html","modules/core/i18n"],(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchApiError=t.isRateLimitError=t.isServerError=t.isAppError=t.isAuthError=t.isBadRequestError=t.isApiError=t.RateLimitError=t.ServerError=t.AppError=t.AuthError=t.BadRequestError=t.ApiError=void 0;var s=(function(){function e(e){this.message=e}return e.prototype.toString=function(){return void 0===this.message?"ApiError":"string"==typeof this.message?this.message:this.message.toString()},e.parseResponse=function(t,r,s,o){void 0===o&&(o=null);var c="";null==o&&(o=t in p?p[t]:t>=500?u:e);var a={raw:{status:t,responseBody:s},summary:null,error:{},headers:r};try{var l=JSON.parse(s)||{};a.error=l.error,a.summary=l.error_summary,c=null!=l.user_message?l.user_message.text:""}catch(e){}429!==t||c||(c=i.intl.formatMessage({id:"HQLtn1",defaultMessage:"Folder updates in progress â€” please try again later. <a>Learn more</a>"},{a:function(e){return'<a href="/help/9259" target="_blank" rel="noopener">'+e+"</a>"}}));var h=void 0;return c&&(h=new n.HTML(c)),Object.assign(new o(h),a)},e})();t.ApiError=s;var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(s);t.BadRequestError=o;var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(s);t.AuthError=c;var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(s);t.AppError=a;var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(s);t.ServerError=u;var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t})(s);function h(e){return e instanceof s}t.RateLimitError=l,t.isApiError=h,t.isBadRequestError=function(e){return e instanceof o},t.isAuthError=function(e){return e instanceof c},t.isAppError=function(e){return e instanceof a},t.isServerError=function(e){return e instanceof u},t.isRateLimitError=function(e){return e instanceof l},t.catchApiError=function(e){return function(t){if(h(t))return e(t);throw t}};var p={400:o,401:c,409:a,429:l}})),define("modules/clean/fetch_utils",["require","exports","tslib"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorIsFetchResponseError=t.FetchResponseError=void 0;var n=(function(e){function t(t,r){var n=e.call(this,r)||this;return n.name="FetchResponseError",n.response=t,n}return r.__extends(t,e),t})(Error);t.FetchResponseError=n,t.errorIsFetchResponseError=function(e){return"FetchResponseError"===e.name}})),define("modules/clean/insecure_uuid",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InsecureUUID=void 0;var r=(function(){var e,t,r=[];for(e=t=0;t<=255;e=++t)r.push((e+256).toString(16).substr(1));return r})(),n=(function(){function e(){}return e.bytesToHex=function(e){return e.map((function(e){return r[e]})).join("")},e.toByte=function(e){return 255&e},e.bytesToUUIDString=function(e){var t=this;return[e.slice(0,4),e.slice(4,6),e.slice(6,8),e.slice(8,10),e.slice(10,16)].map((function(e){return t.bytesToHex(e)})).join("-")},e.getRandomBytes=function(){var e=this,t=new Array(16);return this.getInsecureRandomValues(t),t.map((function(t){return e.toByte(t)}))},e.getInsecureRandomValues=function(e){for(var t=Math.pow(2,8),r=0;r<e.length;r++)e[r]=Math.floor(Math.random()*t);return e},e.v4=function(){var e=this.getRandomBytes();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,this.bytesToUUIDString(e)},e})();t.InsecureUUID=n})),define("modules/clean/api_v2/transport/fetch",["require","exports","tslib","modules/clean/api_v2/error","modules/clean/fetch_utils"],(function(e,t,r,n,i){"use strict";function s(e){var t={};return e.forEach((function(e,r){t[r]=e})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchSyncTransport=t.FetchAsyncTransport=void 0;var o=(function(){function e(){}return e.prototype.executeRpc=function(e,t,o,c,a){return new Promise((function(u,l){return fetch(e.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},t),{"Content-Type":c}),body:o,signal:a}).then((function(e){return e.text().then((function(t){return{response:e,responseText:t}}))})).then((function(e){var t=e.response,r=e.responseText;if(t.ok)return{response:t,responseText:r};throw new i.FetchResponseError(t,r)})).then((function(e){var t=e.response,r=e.responseText;return u({headers:s(t.headers),result:JSON.parse(r)})})).catch((function(e){return i.errorIsFetchResponseError(e)?l(n.ApiError.parseResponse(e.response.status,s(e.response.headers),e.message)):l(n.ApiError.parseResponse(0,{},""))}))}))},e})();t.FetchAsyncTransport=o;var c=(function(){function e(){}return e.prototype.executeRpc=function(e,t,n,i,s){return fetch(e.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},t),{"Content-Type":i}),keepalive:!0,body:n,signal:s}),Promise.resolve({headers:{},result:{}})},e})();t.FetchSyncTransport=c})),define("modules/clean/api_v2/transport/beacon",["require","exports","tslib","modules/clean/api_v2/types","modules/clean/api_v2/transport/fetch","sjcl"],(function(e,t,r,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconTransport=void 0,s=r.__importStar(s);var o=(function(){function e(){}return e.prototype.executeRpc=function(e,t,o,c){return navigator.sendBeacon?new Promise((function(i,a){var u,l,h,p,d,f=null!==(u=t[n.ApiV2HeaderNames.CsrfToken])&&void 0!==u?u:"",m=(l=f,h=e.getPath(),p=s.codec.utf8String.toBits(l),d=new s.misc.hmac(p,s.hash.sha256).encrypt(h),s.codec.base64url.fromBits(d));e.updateQuery({t:m});var g=new Blob([o,JSON.stringify(r.__assign(r.__assign({},t),{"Content-Type":c}))],{type:c}),y=navigator.sendBeacon(e.toString(),g),v={result:JSON.parse(JSON.stringify({beacon:y})),headers:t};return y?i(v):a(v)})):(new i.FetchAsyncTransport).executeRpc(e,t,o,c)},e})();t.BeaconTransport=o})),define("modules/clean/api_v2/types",["require","exports","tslib"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnionStruct=t.UnionScalar=t.Union=t.TeamAuthRequestActionType=t.TeamAuthRequestRole=t.ApiV2HeaderNames=void 0,(function(e){e.DropboxApiArg="Dropbox-API-Arg",e.DropboxApiSelectAdmin="Dropbox-API-Select-Admin",e.DropboxPathRoot="X-Dropbox-Path-Root",e.DropboxUid="X-Dropbox-Uid",e.DropboxTeamId="X-Dropbox-Teamid",e.DropboxTeamAuthorization="X-Dropbox-Team-Authorization",e.CsrfToken="X-CSRF-Token"})(t.ApiV2HeaderNames||(t.ApiV2HeaderNames={})),(function(e){e[e.TeamAdminRole=0]="TeamAdminRole",e[e.MTARole=1]="MTARole",e[e.FederationAdminRole=2]="FederationAdminRole"})(t.TeamAuthRequestRole||(t.TeamAuthRequestRole={})),(function(e){e[e.AdminAction=0]="AdminAction",e[e.AssumeAction=1]="AssumeAction",e[e.OnBehalfOfAction=2]="OnBehalfOfAction"})(t.TeamAuthRequestActionType||(t.TeamAuthRequestActionType={}));var n=(function(){function e(e,t,r){this.type=e,this.value=t,this.isScalar=r}return e.parse=function(e){var t=e[".tag"];return 2===Object.keys(e).length&&null!=e[t]?new i(t,e[t]):new s(t,e)},e})();t.Union=n;var i=(function(e){function t(t,r){return void 0===r&&(r=null),e.call(this,t,r,!0)||this}return r.__extends(t,e),t.prototype.toJSON=function(){var e={".tag":this.type};return null!=this.value&&(e[this.type]=this.value),e},t})(n);t.UnionScalar=i;var s=(function(e){function t(t,r){return void 0===r&&(r={}),e.call(this,t,r,!1)||this}return r.__extends(t,e),t.prototype.toJSON=function(){return r.__assign({".tag":this.type},this.value)},t})(n);t.UnionStruct=s})),define("modules/clean/api_v2/noauth_client",["require","exports","tslib","modules/clean/api_v2/types","modules/clean/api_v2/client_base","modules/constants/request"],(function(e,t,r,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoAuthApiV2Client=void 0;var o=(function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._headers=function(e){var t;return r.__assign(((t={})[n.ApiV2HeaderNames.DropboxUid]=String(s.LOGGED_OUT_X_DROPBOX_UID),t),e.headers)},t})(i.ApiV2ClientBase);t.NoAuthApiV2Client=o})),define("modules/clean/api_v2/user_client",["require","exports","tslib","modules/clean/api_v2/types","modules/clean/api_v2/client_base","modules/clean/viewer"],(function(e,t,r,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserApiV2Client=void 0;var o=(function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._headers=function(e){var t,i=s.Viewer.get_viewer().get_user_by_id(e.subjectUserId);return r.__assign(((t={})[n.ApiV2HeaderNames.DropboxUid]=String(i.id),t[n.ApiV2HeaderNames.DropboxPathRoot]=String(i.root_ns_id),t),e.headers)},t})(i.ApiV2ClientBase);t.UserApiV2Client=o})),define("modules/clean/query_string_helpers",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKING_PARAMS_LIST=t.parseQueryString=t.filterQueryObject=t.getQueryString=t.getTrackingParamsAsJSON=t.getTrackingParams=t.getParsedQueryString=void 0;var r=["gclid","oqa","trigger","_tk","_camp","_ad","_net","_kw","utm_campaign","utm_content","utm_medium","utm_source","utm_term","cont"];function n(e){return void 0===e&&(e=window),e.location.search}function i(e){var t={};if(e.length)for(var r=0,n=e.substring(1).replace(/&amp;/g,"&").split("&");r<n.length;r++){var i=n[r].split("="),s=i[0],o=i[1];s&&o&&(s=s.trim(),o=o.trim(),s.length&&o.length&&(t[s]=decodeURIComponent(o.replace(/\+/g," "))))}return t}function s(e,t){return t.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})}function o(e){return s(e||i(n()),r)}t.TRACKING_PARAMS_LIST=r,t.getQueryString=n,t.parseQueryString=i,t.getParsedQueryString=function(){return i(n())},t.filterQueryObject=s,t.getTrackingParams=o,t.getTrackingParamsAsJSON=function(){var e=o();return JSON.stringify(e)}}));var s=void 0,u=!1,sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function w(e,t,r){4!==t.length&&q(new sjcl.exception.invalid("invalid aes block size"));var n=e.b[r],i=t[0]^n[0],s=t[r?3:1]^n[1],o=t[2]^n[2];t=t[r?1:3]^n[3];var c,a,u,l,h=n.length/4-2,p=4,d=[0,0,0,0];e=(c=e.k[r])[0];var f=c[1],m=c[2],g=c[3],y=c[4];for(l=0;l<h;l++)c=e[i>>>24]^f[s>>16&255]^m[o>>8&255]^g[255&t]^n[p],a=e[s>>>24]^f[o>>16&255]^m[t>>8&255]^g[255&i]^n[p+1],u=e[o>>>24]^f[t>>16&255]^m[i>>8&255]^g[255&s]^n[p+2],t=e[t>>>24]^f[i>>16&255]^m[s>>8&255]^g[255&o]^n[p+3],p+=4,i=c,s=a,o=u;for(l=0;4>l;l++)d[r?3&-l:l]=y[i>>>24]<<24^y[s>>16&255]<<16^y[o>>8&255]<<8^y[255&t]^n[p++],c=i,i=s,s=o,o=t,t=c;return d}function x(e,t){var r,n,i,s=t.slice(0),o=e.r,c=e.b,a=o[0],u=o[1],l=o[2],h=o[3],p=o[4],d=o[5],f=o[6],m=o[7];for(r=0;64>r;r++)16>r?n=s[r]:(n=s[r+1&15],i=s[r+14&15],n=s[15&r]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+s[15&r]+s[r+9&15]|0),n=n+m+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(f^p&(d^f))+c[r],m=f,f=d,d=p,p=h+n|0,h=l,l=u,a=n+((u=a)&l^h&(u^l))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+u|0,o[2]=o[2]+l|0,o[3]=o[3]+h|0,o[4]=o[4]+p|0,o[5]=o[5]+d|0,o[6]=o[6]+f|0,o[7]=o[7]+m|0}function C(e,t){var r,n=sjcl.random.w[e],i=[];for(r in n)n.hasOwnProperty(r)&&i.push(n[r]);for(r=0;r<i.length;r++)i[r](t)}function E(e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?sjcl.random.addEntropy(window.performance.now(),e,"loadtime"):sjcl.random.addEntropy((new Date).valueOf(),e,"loadtime")}function A(e){e.b=B(e).concat(B(e)),e.A=new sjcl.cipher.aes(e.b)}function B(e){for(var t=0;4>t&&(e.f[t]=e.f[t]+1|0,!e.f[t]);t++);return e.A.encrypt(e.f)}function D(e,t){return function(){t.apply(e,arguments)}}"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),"function"==typeof define&&define("sjcl-1.0.3",[],(function(){return sjcl})),sjcl.cipher.aes=function(e){this.k[0][0][0]||this.D();var t,r,n,i,s=this.k[0][4],o=this.k[1],c=1;for(4!==(t=e.length)&&6!==t&&8!==t&&q(new sjcl.exception.invalid("invalid aes key size")),this.b=[n=e.slice(0),i=[]],e=t;e<4*t+28;e++)r=n[e-1],(0==e%t||8===t&&4==e%t)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],0==e%t&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),n[e]=n[e-t]^r;for(t=0;e;t++,e--)r=n[3&t?e:e-4],i[t]=4>=e||4>t?r:o[0][s[r>>>24]]^o[1][s[r>>16&255]]^o[2][s[r>>8&255]]^o[3][s[255&r]]},sjcl.cipher.aes.prototype={encrypt:function(e){return w(this,e,0)},decrypt:function(e){return w(this,e,1)},k:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var e,t,r,n,i,s,o,c=this.k[0],a=this.k[1],u=c[4],l=a[4],h=[],p=[];for(e=0;256>e;e++)p[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!u[t];t^=n||1,r=p[r]||1)for(s=(s=r^r<<1^r<<2^r<<3^r<<4)>>8^255&s^99,u[t]=s,l[s]=t,o=16843009*(i=h[e=h[n=h[t]]])^65537*e^257*n^16843008*t,i=257*h[s]^16843008*s,e=0;4>e;e++)c[e][t]=i=i<<24^i>>>8,a[e][s]=o=o<<24^o>>>8;for(e=0;5>e;e++)c[e]=c[e].slice(0),a[e]=a[e].slice(0)}},sjcl.bitArray={bitSlice:function(e,t,r){return e=sjcl.bitArray.P(e.slice(t/32),32-(31&t)).slice(1),r===s?e:sjcl.bitArray.clamp(e,r-t)},extract:function(e,t,r){var n=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-n^e[t/32+1|0]>>>n:e[t/32|0]>>>n)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],n=sjcl.bitArray.getPartial(r);return 32===n?e.concat(t):sjcl.bitArray.P(t,n,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+sjcl.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<r&&t&&(e[r-1]=sjcl.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(sjcl.bitArray.bitLength(e)!==sjcl.bitArray.bitLength(t))return u;var r,n=0;for(r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},P:function(e,t,r,n){var i;for(i=0,n===s&&(n=[]);32<=t;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=sjcl.bitArray.getPartial(i),n.push(sjcl.bitArray.partial(t+e&31,32<t+e?r:n.pop(),1)),n},l:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},sjcl.codec.utf8String={fromBits:function(e){var t,r,n="",i=sjcl.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(r=e[t/4]),n+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],n=0;for(t=0;t<e.length;t++)n=n<<8|e.charCodeAt(t),3==(3&t)&&(r.push(n),n=0);return 3&t&&r.push(sjcl.bitArray.partial(8*(3&t),n)),r}},sjcl.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,sjcl.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,n=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)n.push(0^parseInt(e.substr(t,8),16));return sjcl.bitArray.clamp(n,4*r)}},sjcl.codec.base64={J:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,r){var n="",i=0,s=sjcl.codec.base64.J,o=0,c=sjcl.bitArray.bitLength(e);for(r&&(s=s.substr(0,62)+"-_"),r=0;6*n.length<c;)n+=s.charAt((o^e[r]>>>i)>>>26),6>i?(o=e[r]<<6-i,i+=26,r++):(o<<=6,i-=6);for(;3&n.length&&!t;)n+="=";return n},toBits:function(e,t){e=e.replace(/\s|=/g,"");var r,n,i=[],s=0,o=sjcl.codec.base64.J,c=0;for(t&&(o=o.substr(0,62)+"-_"),r=0;r<e.length;r++)0>(n=o.indexOf(e.charAt(r)))&&q(new sjcl.exception.invalid("this isn't base64!")),26<s?(s-=26,i.push(c^n>>>s),c=n<<32-s):c^=n<<32-(s+=6);return 56&s&&i.push(sjcl.bitArray.partial(56&s,c,1)),i}},sjcl.codec.base64url={fromBits:function(e){return sjcl.codec.base64.fromBits(e,1,1)},toBits:function(e){return sjcl.codec.base64.toBits(e,1)}},sjcl.hash.sha256=function(e){this.b[0]||this.D(),e?(this.r=e.r.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},sjcl.hash.sha256.hash=function(e){return(new sjcl.hash.sha256).update(e).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.r=this.N.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e));var t,r=this.o=sjcl.bitArray.concat(this.o,e);for(t=this.h,e=this.h=t+sjcl.bitArray.bitLength(e),t=512+t&-512;t<=e;t+=512)x(this,r.splice(0,16));return this},finalize:function(){var e,t=this.o,r=this.r;for(e=(t=sjcl.bitArray.concat(t,[sjcl.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)x(this,t.splice(0,16));return this.reset(),r},N:[],b:[],D:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,r=0,n=2;e:for(;64>r;n++){for(t=2;t*t<=n;t++)if(0==n%t)continue e;8>r&&(this.N[r]=e(Math.pow(n,.5))),this.b[r]=e(Math.pow(n,1/3)),r++}}},sjcl.mode.ccm={name:"ccm",encrypt:function(e,t,r,n,i){var s,o=t.slice(0),c=sjcl.bitArray,a=c.bitLength(r)/8,u=c.bitLength(o)/8;for(i=i||64,n=n||[],7>a&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),s=2;4>s&&u>>>8*s;s++);return s<15-a&&(s=15-a),r=c.clamp(r,8*(15-s)),t=sjcl.mode.ccm.L(e,t,r,n,i,s),o=sjcl.mode.ccm.p(e,o,r,t,i,s),c.concat(o.data,o.tag)},decrypt:function(e,t,r,n,i){i=i||64,n=n||[];var s=sjcl.bitArray,o=s.bitLength(r)/8,c=s.bitLength(t),a=s.clamp(t,c-i),u=s.bitSlice(t,c-i);c=(c-i)/8;for(7>o&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),t=2;4>t&&c>>>8*t;t++);return t<15-o&&(t=15-o),r=s.clamp(r,8*(15-t)),a=sjcl.mode.ccm.p(e,a,r,u,i,t),e=sjcl.mode.ccm.L(e,a.data,r,n,i,t),s.equal(a.tag,e)||q(new sjcl.exception.corrupt("ccm: tag doesn't match")),a.data},L:function(e,t,r,n,i,s){var o=[],c=sjcl.bitArray,a=c.l;if(((i/=8)%2||4>i||16<i)&&q(new sjcl.exception.invalid("ccm: invalid tag length")),(4294967295<n.length||4294967295<t.length)&&q(new sjcl.exception.bug("ccm: can't deal with 4GiB or more data")),s=[c.partial(8,(n.length?64:0)|i-2<<2|s-1)],(s=c.concat(s,r))[3]|=c.bitLength(t)/8,s=e.encrypt(s),n.length)for(65279>=(r=c.bitLength(n)/8)?o=[c.partial(16,r)]:4294967295>=r&&(o=c.concat([c.partial(16,65534)],[r])),o=c.concat(o,n),n=0;n<o.length;n+=4)s=e.encrypt(a(s,o.slice(n,n+4).concat([0,0,0])));for(n=0;n<t.length;n+=4)s=e.encrypt(a(s,t.slice(n,n+4).concat([0,0,0])));return c.clamp(s,8*i)},p:function(e,t,r,n,i,s){var o,c=sjcl.bitArray;o=c.l;var a=t.length,u=c.bitLength(t);if(r=c.concat([c.partial(8,s-1)],r).concat([0,0,0]).slice(0,4),n=c.bitSlice(o(n,e.encrypt(r)),0,i),!a)return{tag:n,data:[]};for(o=0;o<a;o+=4)r[3]++,i=e.encrypt(r),t[o]^=i[0],t[o+1]^=i[1],t[o+2]^=i[2],t[o+3]^=i[3];return{tag:n,data:c.clamp(t,u)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(e,t,r,n,i,s){128!==sjcl.bitArray.bitLength(r)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits"));var o,c=sjcl.mode.ocb2.H,a=sjcl.bitArray,u=a.l,l=[0,0,0,0];r=c(e.encrypt(r));var h,p=[];for(n=n||[],i=i||64,o=0;o+4<t.length;o+=4)l=u(l,h=t.slice(o,o+4)),p=p.concat(u(r,e.encrypt(u(r,h)))),r=c(r);return h=t.slice(o),t=a.bitLength(h),o=e.encrypt(u(r,[0,0,0,t])),h=a.clamp(u(h.concat([0,0,0]),o),t),l=u(l,u(h.concat([0,0,0]),o)),l=e.encrypt(u(l,u(r,c(r)))),n.length&&(l=u(l,s?n:sjcl.mode.ocb2.pmac(e,n))),p.concat(a.concat(h,a.clamp(l,i)))},decrypt:function(e,t,r,n,i,s){128!==sjcl.bitArray.bitLength(r)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits")),i=i||64;var o,c,a=sjcl.mode.ocb2.H,u=sjcl.bitArray,l=u.l,h=[0,0,0,0],p=a(e.encrypt(r)),d=sjcl.bitArray.bitLength(t)-i,f=[];for(n=n||[],r=0;r+4<d/32;r+=4)o=l(p,e.decrypt(l(p,t.slice(r,r+4)))),h=l(h,o),f=f.concat(o),p=a(p);return c=d-32*r,o=e.encrypt(l(p,[0,0,0,c])),o=l(o,u.clamp(t.slice(r),c).concat([0,0,0])),h=l(h,o),h=e.encrypt(l(h,l(p,a(p)))),n.length&&(h=l(h,s?n:sjcl.mode.ocb2.pmac(e,n))),u.equal(u.clamp(h,i),u.bitSlice(t,d))||q(new sjcl.exception.corrupt("ocb: tag doesn't match")),f.concat(u.clamp(o,c))},pmac:function(e,t){var r,n=sjcl.mode.ocb2.H,i=sjcl.bitArray,s=i.l,o=[0,0,0,0],c=s(c=e.encrypt([0,0,0,0]),n(n(c)));for(r=0;r+4<t.length;r+=4)c=n(c),o=s(o,e.encrypt(s(c,t.slice(r,r+4))));return r=t.slice(r),128>i.bitLength(r)&&(c=s(c,n(c)),r=i.concat(r,[-2147483648,0,0,0])),o=s(o,r),e.encrypt(s(n(s(c,n(c))),o))},H:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},sjcl.mode.gcm={name:"gcm",encrypt:function(e,t,r,n,i){var s=t.slice(0);return t=sjcl.bitArray,n=n||[],e=sjcl.mode.gcm.p(!0,e,s,n,r,i||128),t.concat(e.data,e.tag)},decrypt:function(e,t,r,n,i){var s=t.slice(0),o=sjcl.bitArray,c=o.bitLength(s);return n=n||[],(i=i||128)<=c?(t=o.bitSlice(s,c-i),s=o.bitSlice(s,0,c-i)):(t=s,s=[]),e=sjcl.mode.gcm.p(u,e,s,n,r,i),o.equal(e.tag,t)||q(new sjcl.exception.corrupt("gcm: tag doesn't match")),e.data},Z:function(e,t){var r,n,i,s,o,c=sjcl.bitArray.l;for(i=[0,0,0,0],s=t.slice(0),r=0;128>r;r++){for((n=0!=(e[Math.floor(r/32)]&1<<31-r%32))&&(i=c(i,s)),o=0!=(1&s[3]),n=3;0<n;n--)s[n]=s[n]>>>1|(1&s[n-1])<<31;s[0]>>>=1,o&&(s[0]^=-520093696)}return i},g:function(e,t,r){var n,i=r.length;for(t=t.slice(0),n=0;n<i;n+=4)t[0]^=4294967295&r[n],t[1]^=4294967295&r[n+1],t[2]^=4294967295&r[n+2],t[3]^=4294967295&r[n+3],t=sjcl.mode.gcm.Z(t,e);return t},p:function(e,t,r,n,i,s){var o,c,a,u,l,h,p,d,f=sjcl.bitArray;for(h=r.length,p=f.bitLength(r),d=f.bitLength(n),c=f.bitLength(i),o=t.encrypt([0,0,0,0]),96===c?(i=i.slice(0),i=f.concat(i,[1])):(i=sjcl.mode.gcm.g(o,[0,0,0,0],i),i=sjcl.mode.gcm.g(o,i,[0,0,Math.floor(c/4294967296),4294967295&c])),c=sjcl.mode.gcm.g(o,[0,0,0,0],n),l=i.slice(0),n=c.slice(0),e||(n=sjcl.mode.gcm.g(o,c,r)),u=0;u<h;u+=4)l[3]++,a=t.encrypt(l),r[u]^=a[0],r[u+1]^=a[1],r[u+2]^=a[2],r[u+3]^=a[3];return r=f.clamp(r,p),e&&(n=sjcl.mode.gcm.g(o,c,r)),e=[Math.floor(d/4294967296),4294967295&d,Math.floor(p/4294967296),4294967295&p],n=sjcl.mode.gcm.g(o,n,e),a=t.encrypt(i),n[0]^=a[0],n[1]^=a[1],n[2]^=a[2],n[3]^=a[3],{tag:f.bitSlice(n,0,s),data:r}}},sjcl.misc.hmac=function(e,t){this.M=t=t||sjcl.hash.sha256;var r,n=[[],[]],i=t.prototype.blockSize/32;for(this.n=[new t,new t],e.length>i&&(e=t.hash(e)),r=0;r<i;r++)n[0][r]=909522486^e[r],n[1][r]=1549556828^e[r];this.n[0].update(n[0]),this.n[1].update(n[1]),this.G=new t(this.n[0])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(e){return this.Q&&q(new sjcl.exception.invalid("encrypt on already updated hmac called!")),this.update(e),this.digest(e)},sjcl.misc.hmac.prototype.reset=function(){this.G=new this.M(this.n[0]),this.Q=u},sjcl.misc.hmac.prototype.update=function(e){this.Q=!0,this.G.update(e)},sjcl.misc.hmac.prototype.digest=function(){var e=this.G.finalize();e=new this.M(this.n[1]).update(e).finalize();return this.reset(),e},sjcl.misc.pbkdf2=function(e,t,r,n,i){r=r||1e3,(0>n||0>r)&&q(sjcl.exception.invalid("invalid params to pbkdf2")),"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t)),e=new(i=i||sjcl.misc.hmac)(e);var s,o,c,a,u=[],l=sjcl.bitArray;for(a=1;32*u.length<(n||1);a++){for(i=s=e.encrypt(l.concat(t,[a])),o=1;o<r;o++)for(s=e.encrypt(s),c=0;c<s.length;c++)i[c]^=s[c];u=u.concat(i)}return n&&(u=l.clamp(u,n)),u},sjcl.prng=function(e){this.c=[new sjcl.hash.sha256],this.i=[0],this.F=0,this.s={},this.C=0,this.K={},this.O=this.d=this.j=this.W=0,this.b=[0,0,0,0,0,0,0,0],this.f=[0,0,0,0],this.A=s,this.B=e,this.q=u,this.w={progress:{},seeded:{}},this.m=this.V=0,this.t=1,this.u=2,this.S=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.T=3e4,this.R=80},sjcl.prng.prototype={randomWords:function(e,t){var r,n,i=[];if((r=this.isReady(t))===this.m&&q(new sjcl.exception.notReady("generator isn't seeded")),r&this.u){r=!(r&this.t),n=[];var s,o=0;for(this.O=n[0]=(new Date).valueOf()+this.T,s=0;16>s;s++)n.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(n=n.concat(this.c[s].finalize()),o+=this.i[s],this.i[s]=0,r||!(this.F&1<<s));s++);for(this.F>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.i.push(0)),this.d-=o,o>this.j&&(this.j=o),this.F++,this.b=sjcl.hash.sha256.hash(this.b.concat(n)),this.A=new sjcl.cipher.aes(this.b),r=0;4>r&&(this.f[r]=this.f[r]+1|0,!this.f[r]);r++);}for(r=0;r<e;r+=4)0==(r+1)%this.S&&A(this),n=B(this),i.push(n[0],n[1],n[2],n[3]);return A(this),i.slice(0,e)},setDefaultParanoia:function(e,t){0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t&&q("Setting paranoia=0 will ruin your security; use it only for testing"),this.B=e},addEntropy:function(e,t,r){r=r||"user";var n,i,o=(new Date).valueOf(),c=this.s[r],a=this.isReady(),u=0;switch((n=this.K[r])===s&&(n=this.K[r]=this.W++),c===s&&(c=this.s[r]=0),this.s[r]=(this.s[r]+1)%this.c.length,typeof e){case"number":t===s&&(t=1),this.c[c].update([n,this.C++,1,t,o,1,0|e]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(e))){for(i=[],r=0;r<e.length;r++)i.push(e[r]);e=i}else for("[object Array]"!==r&&(u=1),r=0;r<e.length&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(t===s)for(r=t=0;r<e.length;r++)for(i=e[r];0<i;)t++,i>>>=1;this.c[c].update([n,this.C++,2,t,o,e.length].concat(e))}break;case"string":t===s&&(t=e.length),this.c[c].update([n,this.C++,3,t,o,e.length]),this.c[c].update(e);break;default:u=1}u&&q(new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.i[c]+=t,this.d+=t,a===this.m&&(this.isReady()!==this.m&&C("seeded",Math.max(this.j,this.d)),C("progress",this.getProgress()))},isReady:function(e){return e=this.I[e!==s?e:this.B],this.j&&this.j>=e?this.i[0]>this.R&&(new Date).valueOf()>this.O?this.u|this.t:this.t:this.d>=e?this.u|this.m:this.m},getProgress:function(e){return e=this.I[e||this.B],this.j>=e?1:this.d>e?1:this.d/e},startCollectors:function(){this.q||(this.a={loadTimeCollector:D(this,this.aa),mouseCollector:D(this,this.ba),keyboardCollector:D(this,this.$),accelerometerCollector:D(this,this.U),touchCollector:D(this,this.da)},window.addEventListener?(window.addEventListener("load",this.a.loadTimeCollector,u),window.addEventListener("mousemove",this.a.mouseCollector,u),window.addEventListener("keypress",this.a.keyboardCollector,u),window.addEventListener("devicemotion",this.a.accelerometerCollector,u),window.addEventListener("touchmove",this.a.touchCollector,u)):document.attachEvent?(document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)):q(new sjcl.exception.bug("can't attach event")),this.q=!0)},stopCollectors:function(){this.q&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,u),window.removeEventListener("mousemove",this.a.mouseCollector,u),window.removeEventListener("keypress",this.a.keyboardCollector,u),window.removeEventListener("devicemotion",this.a.accelerometerCollector,u),window.removeEventListener("touchmove",this.a.touchCollector,u)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.q=u)},addEventListener:function(e,t){this.w[e][this.V++]=t},removeEventListener:function(e,t){var r,n,i=this.w[e],s=[];for(n in i)i.hasOwnProperty(n)&&i[n]===t&&s.push(n);for(r=0;r<s.length;r++)delete i[n=s[r]]},$:function(){E(1)},ba:function(e){var t,r;try{t=e.x||e.clientX||e.offsetX||0,r=e.y||e.clientY||e.offsetY||0}catch(e){r=t=0}0!=t&&0!=r&&sjcl.random.addEntropy([t,r],2,"mouse"),E(0)},da:function(e){e=e.touches[0]||e.changedTouches[0],sjcl.random.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),E(0)},aa:function(){E(2)},U:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&sjcl.random.addEntropy(t,1,"accelerometer")}e&&sjcl.random.addEntropy(e,2,"accelerometer"),E(0)}},sjcl.random=new sjcl.prng(6);e:try{var F,G,H,I;if(I="undefined"!=typeof module){var J;if(J=module.exports){var K;try{K=require("crypto")}catch(e){K=null}J=(G=K)&&G.randomBytes}I=J}if(I)F=G.randomBytes(128),F=new Uint32Array(new Uint8Array(F).buffer),sjcl.random.addEntropy(F,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(H=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(H);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(H)}sjcl.random.addEntropy(H,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},Y:function(e,t,r,n){r=r||{},n=n||{};var i,s=sjcl.json,o=s.e({iv:sjcl.random.randomWords(4,0)},s.defaults);return s.e(o,r),r=o.adata,"string"==typeof o.salt&&(o.salt=sjcl.codec.base64.toBits(o.salt)),"string"==typeof o.iv&&(o.iv=sjcl.codec.base64.toBits(o.iv)),(!sjcl.mode[o.mode]||!sjcl.cipher[o.cipher]||"string"==typeof e&&100>=o.iter||64!==o.ts&&96!==o.ts&&128!==o.ts||128!==o.ks&&192!==o.ks&&256!==o.ks||2>o.iv.length||4<o.iv.length)&&q(new sjcl.exception.invalid("json encrypt: invalid parameters")),"string"==typeof e?(e=(i=sjcl.misc.cachedPbkdf2(e,o)).key.slice(0,o.ks/32),o.salt=i.salt):sjcl.ecc&&e instanceof sjcl.ecc.elGamal.publicKey&&(i=e.kem(),o.kemtag=i.tag,e=i.key.slice(0,o.ks/32)),"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t)),"string"==typeof r&&(o.adata=r=sjcl.codec.utf8String.toBits(r)),i=new sjcl.cipher[o.cipher](e),s.e(n,o),n.key=e,o.ct=sjcl.mode[o.mode].encrypt(i,t,o.iv,r,o.ts),o},encrypt:function(e,t,r,n){var i=sjcl.json,s=i.Y.apply(i,arguments);return i.encode(s)},X:function(e,t,r,n){r=r||{},n=n||{};var i,s,o=sjcl.json;return i=(t=o.e(o.e(o.e({},o.defaults),t),r,!0)).adata,"string"==typeof t.salt&&(t.salt=sjcl.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=sjcl.codec.base64.toBits(t.iv)),(!sjcl.mode[t.mode]||!sjcl.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)&&q(new sjcl.exception.invalid("json decrypt: invalid parameters")),"string"==typeof e?(e=(s=sjcl.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=s.salt):sjcl.ecc&&e instanceof sjcl.ecc.elGamal.secretKey&&(e=e.unkem(sjcl.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof i&&(i=sjcl.codec.utf8String.toBits(i)),s=new sjcl.cipher[t.cipher](e),i=sjcl.mode[t.mode].decrypt(s,t.ct,t.iv,i,t.ts),o.e(n,t),n.key=e,1===r.raw?i:sjcl.codec.utf8String.fromBits(i)},decrypt:function(e,t,r,n){var i=sjcl.json;return i.X(e,i.decode(t),r,n)},encode:function(e){var t,r="{",n="";for(t in e)if(e.hasOwnProperty(t))switch(t.match(/^[a-z0-9]+$/i)||q(new sjcl.exception.invalid("json encode: invalid property name")),r+=n+'"'+t+'":',n=",",typeof e[t]){case"number":case"boolean":r+=e[t];break;case"string":r+='"'+escape(e[t])+'"';break;case"object":r+='"'+sjcl.codec.base64.fromBits(e[t],0)+'"';break;default:q(new sjcl.exception.bug("json encode: unsupported type"))}return r+"}"},decode:function(e){(e=e.replace(/\s/g,"")).match(/^\{.*\}$/)||q(new sjcl.exception.invalid("json decode: this isn't json!")),e=e.replace(/^\{|\}$/g,"").split(/,/);var t,r,n={};for(t=0;t<e.length;t++)(r=e[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i))||q(new sjcl.exception.invalid("json decode: this isn't json!")),r[3]?n[r[2]]=parseInt(r[3],10):r[4]?n[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(r[4]):unescape(r[4]):r[5]&&(n[r[2]]="true"===r[5]);return n},e:function(e,t,r){if(e===s&&(e={}),t===s)return e;for(var n in t)t.hasOwnProperty(n)&&(r&&e[n]!==s&&e[n]!==t[n]&&q(new sjcl.exception.invalid("required parameter overridden")),e[n]=t[n]);return e},fa:function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&e[r]!==t[r]&&(n[r]=e[r]);return n},ea:function(e,t){var r,n={};for(r=0;r<t.length;r++)e[t[r]]!==s&&(n[t[r]]=e[t[r]]);return n}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.ca={},sjcl.misc.cachedPbkdf2=function(e,t){var r,n=sjcl.misc.ca;return r=(t=t||{}).iter||1e3,(r=(n=n[e]=n[e]||{})[r]=n[r]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):sjcl.random.randomWords(2,0)})[n=t.salt===s?r.firstSalt:t.salt]=r[n]||sjcl.misc.pbkdf2(e,n,t.iter),{key:r[n].slice(0),salt:n.slice(0)}};
//# sourceMappingURL=pkg-api_v2.min.js-vflPR4dxV.map